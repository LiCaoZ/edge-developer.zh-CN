---
ms.assetid: 8b7f362f-da09-43db-8a42-cfa128c1808c
description: 获取加载未打包的扩展时可能具有的常见问题的解答。
title: 扩展 - 疑难解答
author: MSEdgeTeam
ms.author: msedgedevrel
ms.topic: article
ms.prod: microsoft-edge
keywords: edge， Web 开发， html， css， javascript， 开发人员
ms.date: 11/19/2020
ROBOTS: NOINDEX,NOFOLLOW
ms.openlocfilehash: 74743923000766473a96b56a97d302b6ab79a9e3
ms.sourcegitcommit: a35a6b5bbc21b7df61d08cbc6b074b5325ad4fef
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 12/17/2020
ms.locfileid: "11232238"
---
# <span data-ttu-id="1a7ca-104">疑难解答</span><span class="sxs-lookup"><span data-stu-id="1a7ca-104">Troubleshooting</span></span>  

[!INCLUDE [deprecation-note](includes/deprecation-note.md)]  

<span data-ttu-id="1a7ca-105">如果你尝试加载未打包的扩展并遇到问题，下面的信息可能会有所帮助：</span><span class="sxs-lookup"><span data-stu-id="1a7ca-105">If you are trying to load unpacked extensions and are experiencing issues, the info below may help:</span></span>

## <span data-ttu-id="1a7ca-106">1. 看到错误"无法加载此扩展"</span><span class="sxs-lookup"><span data-stu-id="1a7ca-106">1. I see the error "We couldn't load this extension"</span></span>

<span data-ttu-id="1a7ca-107">这通常意味着 Microsoft Edge 无法访问您尝试加载的扩展文件夹。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-107">This usually means that Microsoft Edge cannot access the extension folder you attempted to load.</span></span>

<span data-ttu-id="1a7ca-108">以下是可能遇到的错误的摘要：</span><span class="sxs-lookup"><span data-stu-id="1a7ca-108">Here is a summary of the possible errors you may encounter:</span></span>

<span data-ttu-id="1a7ca-109">错误消息</span><span class="sxs-lookup"><span data-stu-id="1a7ca-109">Error message</span></span> | <span data-ttu-id="1a7ca-110">详细信息</span><span class="sxs-lookup"><span data-stu-id="1a7ca-110">Details</span></span>
:--------- | :------------
<span data-ttu-id="1a7ca-111">清单分析错误：清单文件缺失或格式不正确。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-111">Manifest parsing error: Missing or malformed manifest file.</span></span> | <span data-ttu-id="1a7ca-112">指定 `"manifest.json"` 位置找不到文件，或者文件出错。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-112">Either the file `"manifest.json"` was not found in the specified location or there is something wrong with the file.</span></span> <span data-ttu-id="1a7ca-113">若要解决此问题，请确保指定的文件夹在顶级包含清单，并仔细检查逗号、引号和方括号。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-113">To resolve the issue, ensure that the specified folder contains the manifest at the top-level, and double-check your commas, quotes and brackets.</span></span>
<span data-ttu-id="1a7ca-114">清单分析错误： `"content_scripts"` 必须定义数组。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-114">Manifest parsing error: `"content_scripts"` must define an array.</span></span> | <span data-ttu-id="1a7ca-115">字段 `"content_scripts"` 应为数组。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-115">The field `"content_scripts"` should be an array.</span></span> <span data-ttu-id="1a7ca-116">若要解决此问题，请仔细检查语法。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-116">To resolve the issue, double-check your syntax.</span></span> <span data-ttu-id="1a7ca-117">例如：</span><span class="sxs-lookup"><span data-stu-id="1a7ca-117">For example:</span></span> `"content_scripts": [{"matches": [...],"css": [...],"js": [...] }]`
<span data-ttu-id="1a7ca-118">清单分析错误： `"content_scripts"` 必须定义 `"matches"` 属性值。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-118">Manifest parsing error: `"content_scripts"` must define value for `"matches"` property.</span></span> | <span data-ttu-id="1a7ca-119">属性 `"matches"` 是必需的。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-119">The property `"matches"` is required.</span></span> <span data-ttu-id="1a7ca-120">若要解决此问题，请用字符串数组指定属性值。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-120">To resolve the issue, specify the property’s value with an array of strings.</span></span> <span data-ttu-id="1a7ca-121">例如：</span><span class="sxs-lookup"><span data-stu-id="1a7ca-121">For example:</span></span> `"content_scripts": [ {... "matches": ["http://www.bing.com"] ...} ]`
<span data-ttu-id="1a7ca-122">清单分析错误： `"content_scripts"` 必须至少引用一个 .css 或 .js 文件。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-122">Manifest parsing error: `"content_scripts"` must reference at least one .css or .js file.</span></span> | <span data-ttu-id="1a7ca-123">至少一个属性 `"css"` 或 `"js"` 必需属性。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-123">At least one property `"css"` or `"js"` is required.</span></span> <span data-ttu-id="1a7ca-124">若要解决此问题，请用字符串数组指定属性值。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-124">To resolve the issue, specify the property’s value with an array of strings.</span></span> <span data-ttu-id="1a7ca-125">例如：</span><span class="sxs-lookup"><span data-stu-id="1a7ca-125">For example:</span></span> `"content_scripts": [ { ... "js": ["myScript1.js", "myScript2.js"] ...} ]`
<span data-ttu-id="1a7ca-126">清单分析错误： `"<field>"` 必须为 <property> ""属性定义值。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-126">Manifest parsing error: `"<field>"` must define value for "<property>" property.</span></span> | <span data-ttu-id="1a7ca-127">字段 `<property>` 的属性 `<field>` 是必需的。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-127">The property `<property>` for the field `<field>` is required.</span></span> <span data-ttu-id="1a7ca-128">若要解决此问题，请为 . `<property>`</span><span class="sxs-lookup"><span data-stu-id="1a7ca-128">To resolve the issue, specify a valid value for `<property>`.</span></span>
<span data-ttu-id="1a7ca-129">清单分析错误： `"content_scripts"` 引用"run_at"字段的值无效。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-129">Manifest parsing error: `"content_scripts"` references invalid value for "run_at" field.</span></span> | <span data-ttu-id="1a7ca-130">该属性 `"run_at"` 指定未知值。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-130">The property `"run_at"` specifies an unknown value.</span></span> <span data-ttu-id="1a7ca-131">若要解决此问题，请指定一个 `"document_start"` 或 `"document_end"` `"document_idle"` 。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-131">To resolve the issue, specify one of `"document_start"`, `"document_end"` or `"document_idle"`.</span></span> <span data-ttu-id="1a7ca-132">例如：</span><span class="sxs-lookup"><span data-stu-id="1a7ca-132">For example:</span></span> `"content_scripts": [ {... "run_at": "document_start" ... } ]`
<span data-ttu-id="1a7ca-133">清单分析错误：缺少 `"<field>"` 字段。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-133">Manifest parsing error: Missing `"<field>"` field.</span></span> | <span data-ttu-id="1a7ca-134">该字段 `<field>` 是必需的。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-134">The field `<field>` is required.</span></span> <span data-ttu-id="1a7ca-135">若要解决此问题，请用有效值定义字段。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-135">To resolve the issue, define the field with a valid value.</span></span>
<span data-ttu-id="1a7ca-136">清单分析错误：在 `"<field1>"` `"<field2>"` .</span><span class="sxs-lookup"><span data-stu-id="1a7ca-136">Manifest parsing error: Invalid field `"<field1>"` found in `"<field2>"`.</span></span> | <span data-ttu-id="1a7ca-137">该字段 <field1> 的字段 <field2> 指定未知值。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-137">The field <field1> for the field <field2> specifies an unknown value.</span></span> <span data-ttu-id="1a7ca-138">若要解决此问题，请为 . <field1></span><span class="sxs-lookup"><span data-stu-id="1a7ca-138">To resolve the issue, specify a valid value for <field1>.</span></span>
<span data-ttu-id="1a7ca-139">清单分析错误："" <field> 字段的值无效。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-139">Manifest parsing error: Invalid value for "<field>" field.</span></span> | <span data-ttu-id="1a7ca-140">该字段 <field> 指定未知值。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-140">The field <field> specifies an unknown value.</span></span> <span data-ttu-id="1a7ca-141">若要解决此问题，请指定一个有效的值。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-141">To resolve the issue, specify a valid value.</span></span>
<span data-ttu-id="1a7ca-142">清单分析错误：当前版本的 Microsoft Edge 不支持扩展。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-142">Manifest parsing error: Extension is not supported by current version of Microsoft Edge.</span></span> | <span data-ttu-id="1a7ca-143">该属性 `"minimum_edge_version"` 指定比你拥有的版本更新的 Microsoft Edge 版本。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-143">The property `"minimum_edge_version"` specifies a more recent version of Microsoft Edge than the one you own.</span></span> <span data-ttu-id="1a7ca-144">可以通过打开"更多应用"菜单 ("..."，) "设置" ("关于此应用"部分) 。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-144">You can find the current version by opening the "..." (More) menu and then selecting "Settings" (bottom section "About this app").</span></span> <span data-ttu-id="1a7ca-145">若要解决此问题，请更新浏览器到较新版本或更改清单中的值。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-145">To resolve the issue, either update your browser to a newer version or change the value in the manifest.</span></span> <span data-ttu-id="1a7ca-146">例如：</span><span class="sxs-lookup"><span data-stu-id="1a7ca-146">For example:</span></span> `"minimum_edge_version": "x.xxxx.xxxx.x"`
<span data-ttu-id="1a7ca-147">清单分析错误： `"background"` 必须为"page"或"scripts"属性定义值。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-147">Manifest parsing error: `"background"` must define value for "page" or "scripts" property.</span></span> | <span data-ttu-id="1a7ca-148">字段"background"需要属性"page"或"scripts"。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-148">The property "page" or "scripts" is required for the field "background".</span></span> <span data-ttu-id="1a7ca-149">若要解决此问题，请指定"page"的字符串或"scripts"的字符串数组。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-149">To resolve the issue, specify a string for "page" or an array of strings for "scripts".</span></span> <span data-ttu-id="1a7ca-150">例如：</span><span class="sxs-lookup"><span data-stu-id="1a7ca-150">For example:</span></span> `"background": { ... "scripts": ["background.js"] ... }`
<span data-ttu-id="1a7ca-151">清单分析错误： `"background"` 必须定义 `"persistent"` 属性值。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-151">Manifest parsing error: `"background"` must define value for `"persistent"` property.</span></span> | <span data-ttu-id="1a7ca-152">属性 `"persistent"` 是必需的。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-152">The property `"persistent"` is required.</span></span> <span data-ttu-id="1a7ca-153">若要解决此问题，请指定 true 或 false 值。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-153">To resolve the issue, specify a true or false value.</span></span> <span data-ttu-id="1a7ca-154">例如：</span><span class="sxs-lookup"><span data-stu-id="1a7ca-154">For example:</span></span> `"background": {... "persistent": true ...}`
<span data-ttu-id="1a7ca-155">清单分析错误：只能定义 `"browser_action"` 一个 `"page_action"` ，也可以定义。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-155">Manifest parsing error: Only one `"browser_action"` or `"page_action"` can be defined.</span></span> | <span data-ttu-id="1a7ca-156">扩展不能同时定义页面操作和浏览器操作。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-156">An extension cannot define both a page action and a browser action at the same time.</span></span> <span data-ttu-id="1a7ca-157">若要解决此问题，请删除其中一个定义。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-157">To resolve the issue, remove either one of the definitions.</span></span>
<span data-ttu-id="1a7ca-158">未指定错误：</span><span class="sxs-lookup"><span data-stu-id="1a7ca-158">Unspecified error:</span></span> `<error>` | <span data-ttu-id="1a7ca-159">通用 catch-all 错误消息。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-159">Generic catch-all error message.</span></span> `<error>` <span data-ttu-id="1a7ca-160">将替换为指定的错误。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-160">will be replaced by the specified error.</span></span>


## <span data-ttu-id="1a7ca-161">2. 我看不到"加载扩展"按钮</span><span class="sxs-lookup"><span data-stu-id="1a7ca-161">2. I don't see the "Load extension" button</span></span>
<span data-ttu-id="1a7ca-162">在通过 Microsoft Store 提供扩展之前，此按钮 *默认情况下* 应该可见。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-162">Until extensions are available via the Microsoft Store, this button *should* be visible by default.</span></span> <span data-ttu-id="1a7ca-163">如果打开"更多" (...) 菜单，请选择"扩展"菜单项，但看不到该按钮，请按照以下步骤操作：</span><span class="sxs-lookup"><span data-stu-id="1a7ca-163">If you open the "More" (...) menu, select the "Extensions" menu item and don't see the button, follow these steps:</span></span>

1. <span data-ttu-id="1a7ca-164">在地址栏中键入 **"about：flags"，** 然后按 **"Enter"** 键。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-164">In the address bar type **"about:flags"** and press the **"Enter"** key.</span></span>
2. <span data-ttu-id="1a7ca-165">在标题 **"开发人员设置"下** ，确保选中了" **启用扩展开发人员功能"旁边的** 复选框。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-165">Under the heading **"Developer settings"** make sure the checkbox next to **"Enable extension developer features"** is selected.</span></span>

   ![关于标志](./media/aboutflags.PNG)  

3. <span data-ttu-id="1a7ca-167">关闭并重新打开 Microsoft Edge 并检查"加载\*\*\*\* 扩展"按钮现在是否可见。</span><span class="sxs-lookup"><span data-stu-id="1a7ca-167">Close and re-open Microsoft Edge and check to see if the **"Load extension"** button is now visible.</span></span>
